---
import type { HTMLTag, Polymorphic } from "astro/types";
import { cn } from "~/lib/utils";

type Props<Tag extends HTMLTag> = Polymorphic<{ as: Tag }> & {
  size?: "md" | "lg";
  style?: "outline" | "primary";
};

const { size = "md", style = "primary", class: className, ...rest } = Astro.props;
const Tag = Astro.props.as ? Astro.props.as : "button";

const sizes = {
  md: "px-5 py-2.5",
  lg: "px-6 py-3",
};

const styles = {
  primary: "bg-primary text-white hover:bg-secondary border-2 border-transparent",
  outline: "border-2 border-secondary hover:bg-primary text-black hover:text-white",
};
---

<Tag
  class={cn(
    "w-full select-none rounded text-center ring-gray-200 ring-offset-2 font-medium transition focus-visible:ring-2 sm:w-auto",
    styles[style as keyof typeof styles],
    sizes[size as keyof typeof sizes],
    className
  )}
  {...rest}
>
  <slot />
</Tag>
