---
import { Icon } from "astro-icon/components";
import Container from "~/components/common/Container.astro";
import FooterLink from "~/components/common/FooterLink.astro";
import { COMPANY_NAME } from "~/config";
---

<footer class="bg-bg border-gray-300 mt-24 border-t px-[--page-px] py-24">
  <Container>
    <div class="flex flex-col gap-12 text-sm md:flex-row md:gap-24">
      <div>
        <p id="quick-links" class="text-foreground text-lg font-bold">Quick Links</p>
        <div aria-describedby="quick-links" class="mt-6 flex flex-col gap-4">
          <FooterLink href="/terms-and-conditions">Terms & Conditions</FooterLink>
          <FooterLink href="/privacy-policy">Privacy Policy</FooterLink>
          <FooterLink href="/schedule-call">Schedule a Call</FooterLink>
          <FooterLink href="/contact">Contact Form</FooterLink>
        </div>
      </div>
      <div>
        <p id="contact" class="text-foreground text-lg font-bold">Contact</p>
        <div aria-describedby="contact" class="mt-6 flex flex-col gap-4">
          <FooterLink id="email-info" href="" class="flex items-center gap-2">
            <span>Inquiries</span>
            <Icon name="tabler:mail-heart" />
          </FooterLink>
          <FooterLink id="email-help" href="" class="flex items-center gap-2">
            <span>Customer Care</span>
            <Icon name="tabler:mail-heart" />
          </FooterLink>
        </div>
      </div>
    </div>

    <div class="mt-8 space-y-2">
      <p class="text-sm transition">
        Â© {`${new Date().getFullYear()} ${COMPANY_NAME}`} | All rights reserved | Richardson, TX
      </p>
    </div>
  </Container>
</footer>

<script>
  const infoEnc = "aW5mb0BmcmllbmRseWJlYXJsYWJzLmNvbQ==";
  const helpEnc = "aGVscEBmcmllbmRseWJlYXJsYWJzLmNvbQ==";
  const emailInfo = document.getElementById("email-info") as HTMLAnchorElement;
  const emailHelp = document.getElementById("email-help") as HTMLAnchorElement;

  emailInfo.href = `mailto:${window.atob(infoEnc)}?subject=Inquiry`;
  emailHelp.href = `mailto:${window.atob(helpEnc)}?subject=Customer%20Care`;
</script>
